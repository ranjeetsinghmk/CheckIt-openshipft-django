<update-component></update-component>
<div *ngIf="authenticated">
    <md-grid-list cols="3">
        <md-grid-tile *ngFor="let user of users">
            <md-card>
                <img md-card-image src="{{user.photo}}" height="200" width="250">
                <md-card-title>{{user.name}}</md-card-title>
                <md-card-content>
                    <p>You can also contact me on <a href="mailto:{{user.email}}">Email</a></p>
                </md-card-content>
                <md-card-actions align="end">
                    <button md-button>FOLLOW</button>
                    <button md-raised-button>TALK</button>
                </md-card-actions>
            </md-card>
        </md-grid-tile>
    </md-grid-list>
    <div fxLayout="column" fxLayoutGap="10px" fxLayoutAlign="start center" *ngIf="users && (users.length < count || users.length == 0)">
        <button (click)="fetchNextUsers()" fxFlex="25" *ngIf="!fetchingUsers" md-raised-button color="accent">LOAD MORE?</button>
        <style>
            .loader {
                border: 16px solid #f3f3f3;
                border-radius: 50%;
                border-top: 16px solid #3498db;
                width: 40px;
                height: 40px;
                -webkit-animation: spin 2s linear infinite;
                animation: spin 2s linear infinite;
            }

            @-webkit-keyframes spin {
                0% {
                    -webkit-transform: rotate(0deg);
                }
                100% {
                    -webkit-transform: rotate(360deg);
                }
            }

            @keyframes spin {
                0% {
                    transform: rotate(0deg);
                }
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
        <div class='loader' *ngIf="fetchingUsers"></div>
        <font color='red' size='12' *ngIf="user_err">
            {{user_err}}
        </font>
    </div>
</div>

<div style="height: 500px;background:#ad3dfd;margin-top:10px;color:white;text-align: center;padding:40px;">
    <p>
        We are creating something special for you
    </p>
    <canvas #myCanvas id="myCanvas" width="100%" height="100%" >
        Your browser does not support wait!!</canvas>

</div>